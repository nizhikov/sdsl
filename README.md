# Утилита нагрузочного тестирования

## Что я хочу получить?

### DSL для написания нагрузки

* Описание сценария нагрузки на одной ноде
    * Описание процента/количества операций
    * Описание пауз
* Описание количества операций или времени выполнения скрипта
* Отдельное конфигурирование и нагрузка
* Редактирование сценарием в runtime.
* Замер производительности каждого запроса.
* Логирование + логирование результатов.
* Поддержка всех продуктов построенных на Ignite (AI, ISE, GG)
* Хороший API для генерации тестовых данных.
  * самодокументируемые функции.
  * самодокументируемый список генераторо
  * набор встроенных генераторов
    * из csv
    * связанные между собой
    * рандомизированные
  * runtime добавление новых генераторов
* Удобные cmd для запуска
  * возможность интерактивного выбора из найденных скриптов
  * возможность комментирования скрипта

### Запуск с помощью ducktape или внешней команды.

### Поддержка prometheus metric endpoint.

### Пример скрипта

```kotlin
  val keyValGen = generator("card-number-generator")
  val ignite = client_node()
  // val ignite_srv = server_node()
  // val java_thin = thin_client()

  var cache = client_node_cache("my-cache")

  do 30 minutes in 10 threads {
    with tx {
      cache.put(keyValGen.key(), keyValGen.value())
        
      switch {
          95% => tx.commit
          other => tx.rollback
      }
    }

    sleep 1 second
  }
```